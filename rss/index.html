<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel><title><![CDATA[Xander's Lander]]></title><description><![CDATA[Welcome to my little playground]]></description><link>https://xander-rudolph.github.io/</link><image><url>https://xander-rudolph.github.io/favicon.png</url><title>Xander&apos;s Lander</title><link>https://xander-rudolph.github.io/</link></image><generator>Ghost 5.46</generator><lastBuildDate>Wed, 03 May 2023 16:59:06 GMT</lastBuildDate><atom:link href="https://xander-rudolph.github.io/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[PowerShell Packages - Caution]]></title><description><![CDATA[<!--kg-card-begin: html--><b style="color:red;">NOTE: This post gets a little into the weeds on powershell and can break things if not done correctly. When working with PowerShellGet and PackageManagement, things can get a little weird because they have been around for ages and have pretty Frankenstein fixes to support legacy.</b><!--kg-card-end: html--><h2 id="powershellget-and-packagemanagement">PowerShellGet and PackageManagement</h2><p>First</p>]]></description><link>https://xander-rudolph.github.io/powershell-packages/</link><guid isPermaLink="false">644d180f5752400001d6e7a6</guid><category><![CDATA[PowerShell]]></category><dc:creator><![CDATA[Alex Rudolph]]></dc:creator><pubDate>Sat, 29 Apr 2023 13:21:06 GMT</pubDate><media:content url="https://xander-rudolph.github.io/content/images/2023/05/imageedit_1_3367645416.jpg" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: html--><b style="color:red;">NOTE: This post gets a little into the weeds on powershell and can break things if not done correctly. When working with PowerShellGet and PackageManagement, things can get a little weird because they have been around for ages and have pretty Frankenstein fixes to support legacy.</b><!--kg-card-end: html--><h2 id="powershellget-and-packagemanagement">PowerShellGet and PackageManagement</h2><img src="https://xander-rudolph.github.io/content/images/2023/05/imageedit_1_3367645416.jpg" alt="PowerShell Packages - Caution"><p>First we are going to cover the two fundamental modules that run most module/package stuff in PowerShell. PackageManagement and PowerShellGet work hand in hand with each other. When you run Install-module for PackageManagement you will generally get a failure because you are currently using PackageManagement because PowerShellGet is using it to run Install-Module (meta... I know). There are dozens of tutorials that explain this in more detail so I won&apos;t get in to the specifics, just recommend the following command:</p><!--kg-card-begin: markdown--><pre><code class="language-shell">powershell.exe -NoLogo -NoProfile -Command &apos;[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; Install-Module -Name PackageManagement -Force -MinimumVersion 1.4.6 -Scope AllUsers -AllowClobber -Repository PSGallery&apos;
</code></pre>
<!--kg-card-end: markdown--><p>This will run the install command in a new session and should upgrade your PackageManagement.</p><h2 id="what-just-happened">What just happened?</h2><p>The script above is actually doing something quite simple. Windows will store packages in the <code>%programfiles%\WindowsPowerShell</code> directory. This is the <strong>GLOBAL</strong> location for modules. When you run powershell as an admin, this is where modules go. When you are not running as an admin, it will generally use <code>%userprofile%\Documents\WindowsPowerShell</code>. These settings can be tweaked/overridden using <a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_profiles?view=powershell-7.1&amp;ref=localhost" rel="noreferrer noopener">profile scripts</a>. If you navigate to the WindowsPowerShell directory you will find a modules folder, which will have a PackageManagment folder. In that folder you will see the different versions that you have installed. Additionally you can use the following command to see what powershell is loading from <code>$ENV:PSMODULEPATH</code>:<br><code>Get-InstalledModule</code></p><h2 id="module-and-script-construction">Module and script construction</h2><p>I have put together a simple module that uses some simple PowerShell functions to build templates for scripts and modules. Run the following commands:<br><code>install-module xanderu.helpers </code><br><code>New-PowershellTemplate</code></p><p>This will automatically create a module or script based on the input prompts. If you haven&apos;t specified a directory, it will use the current directory to create the structure.</p><h2 id="loading-and-debugging-modules">Loading and debugging modules</h2><p>Without a pipeline, loading and debugging modules is actually quite simple. By copying the module into the <code>%programfiles%\WindowsPowerShell</code> directory it will auto load when you open powershell. This can cause issues when debugging as it can get confusing when you are trying to make changes. You will not be sure what version of the modules functions you are using. Instead, when debugging use:<br><code>Import-Module -force -allowclobber .\Path\to\module.psm1</code></p><p>This will allow you to specify exactly what module you want to load. It will automatically override and replace any functions you have in your current session.</p>]]></content:encoded></item><item><title><![CDATA[Just some helpful PowerShell]]></title><description><![CDATA[<!--kg-card-begin: html--><h2>Where to start with powershell</h2><!--kg-card-end: html--><p>I&apos;ve build a helper function that anyone can use to get a simple pipeline off the ground and have it prepped and ready for use in Azure Devops. The module can also be found in the <a href="https://www.powershellgallery.com/packages/xanderu.helpers?ref=localhost" rel="noreferrer noopener">PSGallery</a>.</p><p>I have not done very robust</p>]]></description><link>https://xander-rudolph.github.io/just-some-helpful-powershell/</link><guid isPermaLink="false">644d12a35752400001d6e706</guid><category><![CDATA[PowerShell]]></category><dc:creator><![CDATA[Alex Rudolph]]></dc:creator><pubDate>Sat, 29 Apr 2023 13:12:58 GMT</pubDate><media:content url="https://xander-rudolph.github.io/content/images/2023/04/4834971-1-.png" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: html--><h2>Where to start with powershell</h2><!--kg-card-end: html--><img src="https://xander-rudolph.github.io/content/images/2023/04/4834971-1-.png" alt="Just some helpful PowerShell"><p>I&apos;ve build a helper function that anyone can use to get a simple pipeline off the ground and have it prepped and ready for use in Azure Devops. The module can also be found in the <a href="https://www.powershellgallery.com/packages/xanderu.helpers?ref=localhost" rel="noreferrer noopener">PSGallery</a>.</p><p>I have not done very robust documentation on this pipeline because its all pretty generic. When working with powershell there are many standards that can, but do not need to be, applied to script or module files but they aren&apos;t required. The module above is simply a template that will stamp out the file/folder stucture that is needed for publishing a module with each function broken down for easy of use and portability.</p><!--kg-card-begin: html--><h2>Where you run matters</h2><!--kg-card-end: html--><p>When using powershell, the context in which you start powershell changes how it operates. This can be seen most obviously with a simple powershell builtin called $PSVersionTable:</p><figure class="kg-card kg-image-card"><img src="https://xander-rudolph.github.io/content/images/2023/04/image2021-2-19_6-46-10.png" class="kg-image" alt="Just some helpful PowerShell" loading="lazy" width="395" height="177"></figure><p>PSVersiontable will print out the version of powershell you are running. If you have multiple versions of powershell installed, you may need to switch the context. With VS Code, you can use CTRL+SHIFT+P and then type &quot;Session&quot; to change the version of powershell in the terminal:</p><figure class="kg-card kg-image-card"><img src="https://xander-rudolph.github.io/content/images/2023/04/image2021-2-19_6-49-54.png" class="kg-image" alt="Just some helpful PowerShell" loading="lazy" width="623" height="82" srcset="https://xander-rudolph.github.io/content/images/size/w600/2023/04/image2021-2-19_6-49-54.png 600w, https://xander-rudolph.github.io/content/images/2023/04/image2021-2-19_6-49-54.png 623w"></figure><p>If you look at the VS Code <code>settings.json</code> (the default path is <code>%appdata%\Code\User\settings.json</code>) you can see what default PowerShell is being used: <br>&quot;powershell.powerShellDefaultVersion&quot;: &quot;Windows PowerShell (x64)&quot; </p><p>It&apos;s important to know what context you are running in because some things may or may not work because of localized settings. Managing how and where you run your code has a big impact on how errors will present themselves and what will be supported.</p><!--kg-card-begin: html--><h2>Installing core</h2><!--kg-card-end: html--><p>The screenshot above is what generally will show up on your windows machine if you use PowerShell on a windows host. PowerShell started to diverge in v6 (AKA PowerShell core) and doesn&apos;t natively come on any OS. </p><p>For Windows:<br><code>winget install --id Microsoft.Powershell --source winget</code><br>For Mac:<br><code>brew install powershell</code><br>For Linux:<br><code>snap install powershell --classic</code></p><h2 id="what-gives-with-the-versions"><strong>What gives with the versions?</strong></h2><p>PowerShell has been around for a long time in the windows space, however PowerShell 6 and up are cross platform. There are limiting factors to writing cross platform scripts, namely related to .net libraries. A script that is designed for PowerShell 5.1 (windows) is likely only going to work on windows because of the various .net frameworks that come prepackaged on windows installations. For example, if a PowerShell script is using pop up forms (windows forms in .net) it won&apos;t work on a Linux or Mac because the Windows forms libraries are not available. Some libraries have also become cross platform and can be found in .net core (versions can change what options you will have available).</p><h2 id="what-does-that-look-like">What does that look like?</h2><p>When using cross platform modules, you can make things look and act differently depending on the OS or context in which it&apos;s called. For example, the <code>Get-Credential</code> function when called from a windows PowerShell terminal will give a pop up:</p><figure class="kg-card kg-image-card"><img src="https://xander-rudolph.github.io/content/images/2023/04/image2021-2-19_7-12-54.png" class="kg-image" alt="Just some helpful PowerShell" loading="lazy" width="321" height="259"></figure><p>And when you use a PowerShell session in PS core on the same machine you will get a command line prompt:</p><figure class="kg-card kg-image-card"><img src="https://xander-rudolph.github.io/content/images/2023/04/image2021-2-19_7-12-40.png" class="kg-image" alt="Just some helpful PowerShell" loading="lazy" width="380" height="100"></figure><h2 id="in-summary">In Summary</h2><p>When working with PowerShell it&apos;s important to understand how and where you are planning to run your scripts. The way PowerShell operates is going to be different based on the version, the context, and the features you have installed on your local machine. Where possible, it is best to include any required DLLs/EXE files you might need and use relative pathing to make your scripts more portable/packable. This can sometimes bloat the size of your code base, but if you don&apos;t include it, a check in the script/module to make sure all dependencies are met is a good idea. This can be done with <code>#requires</code> or <code>.MODULESREQUIRED</code> or by writing up explicit checks in the source to throw tailored errors.</p>]]></content:encoded></item><item><title><![CDATA[Running MediaKube-redux]]></title><description><![CDATA[<p>Before gettings started with mediakube-redux, there are some cautions/warnings/disclaimers/CYA stuff I am going to go into.</p><p>Consuming or redistributing copywrite protected content <strong>IS A CRIME</strong>. Proceed with caution when using any type of content downloads using these system. If you do not own or rights to the</p>]]></description><link>https://xander-rudolph.github.io/running-mediakube-redux/</link><guid isPermaLink="false">644c38d62f0a6f0001cd6aad</guid><category><![CDATA[Kubernetes]]></category><dc:creator><![CDATA[Alex Rudolph]]></dc:creator><pubDate>Fri, 28 Apr 2023 21:21:52 GMT</pubDate><media:content url="https://xander-rudolph.github.io/content/images/2023/05/00000-4080765498.png" medium="image"/><content:encoded><![CDATA[<img src="https://xander-rudolph.github.io/content/images/2023/05/00000-4080765498.png" alt="Running MediaKube-redux"><p>Before gettings started with mediakube-redux, there are some cautions/warnings/disclaimers/CYA stuff I am going to go into.</p><p>Consuming or redistributing copywrite protected content <strong>IS A CRIME</strong>. Proceed with caution when using any type of content downloads using these system. If you do not own or rights to the content, you should not use these systems. The lack of closed caption for ADA or non-native language subtitles is a valid justification for using this system, but again... ensure you have the appropriate rights.</p><h2 id="lets-not-get-ahead-of-ourselves">Let&apos;s not get ahead of ourselves</h2><p>Before going any further, we are going to define the applications needed for the mediakube. There are additional features in the helm chart but they are not fully baked yet. The services we are interested in today are:</p><!--kg-card-begin: html--><ul>
<li>transmission - Torrent agent with VPN</li>
<li>prowlarr - Indexer for *arr apps</li>
<li>bazarr - Subtitle grabber</li>
<li>sonarr - TV show tracker</li>
<li>radarr - Movie tracker</li>
<li>lidarr - Music tracker</li>
<li>readarr - Book tracker</li>
<li>ombi - Request portal</li>
</ul>
    <!--kg-card-end: html--><p>Or if you ask chatGPT to answer like a pirate:</p><div class="kg-card kg-callout-card kg-callout-card-grey"><div class="kg-callout-emoji">&#x1F4A1;</div><div class="kg-callout-text">Arrr! These apps be the treasure troves of every pirate&apos;s heart! They be automatic media downloaders that help ye get yer hands on the latest movies and TV shows from the high seas of the internet.<br><br>Sonarr be the scallywag that focuses on TV shows, while Radarr be the plunderer that specializes in movies. Ye can set them up to automatically search for new episodes or movies, and they&apos;ll download &apos;em straight to yer hard drive. No more sailin&apos; the seas of the internet lookin&apos; for yer booty!<br><br>But that&apos;s not all! These arr apps also be havin&apos; features like automatic file renaming and sorting, so ye can keep yer booty organized and easy to find. They be workin&apos; with many popular torrent and Usenet providers, so ye can choose the provider that suits yer fancy. And they be havin&apos; mobile apps and web interfaces, so ye can manage yer booty from anywhere.<br><br>But, let me give ye a warning, matey. Ye need to be careful when using these arr apps, as downloading copyrighted material without permission can land ye in some serious trouble with the law. So, keep yer wits about ye, and use these apps at yer own risk.<br>So, that be the tale of the arr apps, matey! May ye find yer booty and keep yer sails full! Arrr!</div></div><p>(sorry... I couldn&apos;t help myself... now back to the program)</p><h2 id="prerequisites">Prerequisites</h2><p>This whole configuration requires the following pieces of software be installed:</p><!--kg-card-begin: html--><ul>
    <li>Git</li>
    <li>Kubernetes (I will be using rancher for this tutorial)</li>
    <li>kubectl/helm</li>
    <li>PowerShell</li>
</ul>
    <!--kg-card-end: html--><p>These tools are all required to follow this tutorial but I will point out where things can be substituted. Some other tools I would recommend are:</p><!--kg-card-begin: html--><ul>
    <li>VS Code</li>
    <li>Lens</li>
</ul>
    <!--kg-card-end: html--><h2 id="getting-started">Getting started</h2><p>The <strong>first </strong>step in the process is to make sure you have the appropriate Kubernetes context selected. </p><!--kg-card-begin: markdown--><pre><code class="language-shell">kubectl config get-contexts
</code></pre>
<!--kg-card-end: markdown--><p>This should show you which cluster you have selected. If this is your first time working with k8s/k3s you probably only have one context available. Contexts are stored in your <code>~/.kube/config</code> file and if you have issues with kubectl, I recommend resetting the config file... it usually fixes the problem.</p><p><strong>Next</strong> open VS Code and press <code>` + ctrl</code> to toggle open the terminal window. If you are running on a Linux or Mac device, type <code>pwsh</code> to enter a powershell session. Then it is time to clone the source code:<br><code>git clone https://github.com/Xander-Rudolph/mediakube-redux.git</code></p><p><strong>Once </strong>the code is cloned, <code>cd</code> into the repo root: <br><code>cd mediakube-redux</code></p><p><strong>Now </strong>to create the startup script: <br><code>code configure.ps1</code></p><p>This should open a new vs code tab for <code>configure.ps1</code>. The configure script is going to be used for both getting our helm dependency charts as well as to scrub/substitute the various variables that the script will need to provision. </p><h3 id="setting-up-the-configureps1-script">Setting up the configure.ps1 script</h3><p>The following code will need values specified for everything but I will break those down next... to start just copy the entire code block into the <code>configure.ps1</code> file you just created (<em>note you can edit these values right here in the browser before you copy and paste</em>):</p><!--kg-card-begin: html--><textarea cols="100" rows="20"># nfs
$server= &quot;192.168.0.100&quot; 
$media= &quot;/volume2/Media&quot; 
$localPath= &quot;/mnt/e/kubestore&quot; # local path from your node

# postgres root
$pg_password= &quot;postgres&quot;

# bazarr
$bazarrdbpass=&quot;bazarr&quot;

# radarr
$radarrdbpass=&quot;radarr&quot;

# transmission
$username=&quot;&quot; 
$password=&quot;&quot;
$vpn_username= &quot;p123456&quot;
$vpn_password= &quot;YOURPIAPASSWORD&quot;
$vpn_LOC= &quot;&quot; # See here and pick an id https://serverlist.piaservers.net/vpninfo/servers/v6


#########################################################
# These are not required but you will see pod failures  #
#########################################################
# duckdns
$subdomains= &quot;example,duckdns,domains&quot;
$token= &quot;yourduckdnstoken&quot;

# swag
$url= &quot;a-subdomain-from.duckdns.org&quot;

# redis root
$redis_password= &quot;redis&quot;

#authelia
$authdbuser=&quot;authelia&quot;
$authdbname=&quot;authelia&quot;
$authdbpass=&quot;authelia&quot;
$autheliaKey=&quot;RaNdOmLyGeNeRaTeDkEy&quot; # random 20 digit string

#########################################
#### DO NOT MODIFY BELOW THIS POINT  ####
#########################################
pushd (Join-path $PSScriptRoot &quot;/charts/mediakube/&quot;)
$filename=&quot;values.yaml&quot;
(Get-Content $filename).Replace(&apos;YOUR_NFS_SERVER&apos;,$server) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_CONFIG_PATH&apos;,$config) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_LOCAL_STORAGE&apos;,$localPath) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_MEDIA_PATH&apos;,$media) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_SUBDOMAINS&apos;,$subdomains) | Set-Content $filename
(Get-Content $filename).Replace(&apos;yourdomain.url&apos;,$url) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_DNS_TOKEN&apos;,$token) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_USERNAME&apos;,$username) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_PASSWORD&apos;,$password) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_VPN_USERNAME&apos;,$vpn_username) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_VPN_PASSWORD&apos;,$vpn_password) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_VPN_REGION&apos;,$vpn_LOC) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_POSTGRES_PASSWORD&apos;,$pg_password) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_REDIS_PASSWORD&apos;,$redis_password) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_SONARR_KEY&apos;,$sonarrKey) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_RADARR_KEY&apos;,$radarrKey) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_AUTHELIA_DBUSERNAME&apos;,$authdbuser) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_AUTHELIA_DBNAME&apos;,$authdbname) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_AUTHELIA_DBPASSWORD&apos;,$authdbpass) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_ENCRYPTION_KEY&apos;,$autheliaKey) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_BAZARR_DBPASS&apos;,$bazarrdbpass) | Set-Content $filename
(Get-Content $filename).Replace(&apos;YOUR_RADARR_DBPASS&apos;,$radarrdbpass) | Set-Content $filename
if(-not (test-path Chart.lock))
{
    helm dependency build
}
helm upgrade -i mediakube .
popd
</textarea><!--kg-card-end: html--><p>We need to update the:</p><p><code>$server</code> - this should be the IP address of your NAS. If you do not have a NAS, you will need to update the helm chart&apos;s values file and set the debug.useLocalStore to true. Then $media will point to a local path.</p><p><code>$media</code> - the NFS (not SMB) path to the NAS. If debug.useLocalStore is set to true, this should be local path on the host</p><p><code>$localPath</code> - this is where all files associated with the media clusters configs will live. Keep in mind that the path here should be the relative kubernetes path. For example, if you are using rancher desktop on windows, the node will have all the win directories mounted to <code>/mnt/</code> so for <code>C:\MyMediaKube</code> the path would be <code>/mnt/c/MyMediaKube</code>. Keep in mind that kubernetes is Linux based so pathing uses that format and <u>is case sensitive</u>. I cannot stress this enough as I have spent endless hours looking at issues where it was a capital letter causing the issue.</p><p><code>$vpn_username</code> - This is the PIA VPN user name (the docker image supports others but this helm chart focuses on PIA)</p><p><code>$vpn_password</code> - This is the PIA VPN password</p><p><code>$vpn_LOC</code> - See <a href="https://serverlist.piaservers.net/vpninfo/servers/v6?ref=localhost">here</a> and pick an id that matches the location you want to be connected to</p><h3 id="optional">Optional:</h3><p><code>$username</code> - I believe this is supposed to dictate the auth/api calls to transmission but, as tested, it doesn&apos;t appear to be functional</p><p><code>$password</code> - the password for the above username</p><p><code>$pg_password</code> - this is the root admin for the postgres DB</p><p><code>$bazarrdbpass</code> - this is the password for the bazarr apps db</p><p><code>$radarrdbpass</code> - this is the password for the bazarr apps db</p><p><code>$subdomains</code> - this is a list (or a single) subdomain in duckdns</p><p><code>$token</code> - this is the duckdns token</p><p><code>$url</code> - use a <code>subdomain</code>.duckdns.org to run swag</p><p><code>$authelia</code> and <code>$redis</code> work together but are only required if you plan to implement authentication for your services via traefik (a project I&apos;m still working on).</p><h2 id="lets-start-the-engines">Let&apos;s start the engines</h2><p>Once the configure script is all updated with those values, type the following into the terminal window: <br><code>./configure.ps1</code></p><p>This will automatically update all the values in the helm chart, download the dependency charts, and run the helm install for mediakube.</p><p>It may take a few minutes to fully start up since it needs to download LOTS of docker images. Depending on your network connection... you might want to go get a coffee.</p><p>If you are unfamiliar with kubernetes, or just don&apos;t like typing commands out over and over, I recommend the tool <a href="https://k8slens.dev/?ref=localhost">Lens</a> which is an extremely easy to use tool that will make troubleshooting infinitely easier. When the cluster is up and running, this is what the pods should look like in Lens (note the cluster has been running for 14 hours in my screenshot):</p><figure class="kg-card kg-image-card"><img src="https://xander-rudolph.github.io/content/images/2023/05/image.png" class="kg-image" alt="Running MediaKube-redux" loading="lazy" width="1384" height="675" srcset="https://xander-rudolph.github.io/content/images/size/w600/2023/05/image.png 600w, https://xander-rudolph.github.io/content/images/size/w1000/2023/05/image.png 1000w, https://xander-rudolph.github.io/content/images/2023/05/image.png 1384w" sizes="(min-width: 720px) 720px"></figure><p>If there are any showing orange for an extended period of time, check the pod logs to see if there are any errors.</p><h2 id="lets-wire-it-all-up-now">Let&apos;s wire it all up now</h2><p>Everything should be running now on localhost and routed by Traefik. Additionally the settings in the apps should have the base URL defined. So lets hop into Prowlarr:</p><p><a href="http://localhost/prowlarr/settings/downloadclients?ref=localhost">http://localhost/prowlarr/settings/downloadclients</a></p><p>The download client needs to be configured to talk to the transmission pod, which should look like this:</p><figure class="kg-card kg-image-card"><img src="https://xander-rudolph.github.io/content/images/2023/05/image-1.png" class="kg-image" alt="Running MediaKube-redux" loading="lazy" width="727" height="853" srcset="https://xander-rudolph.github.io/content/images/size/w600/2023/05/image-1.png 600w, https://xander-rudolph.github.io/content/images/2023/05/image-1.png 727w" sizes="(min-width: 720px) 720px"></figure><p>Hit the test button to ensure it can connect, then hit save.</p><p>Next, set the prowlarr applications:</p><p>http://localhost/prowlarr/settings/applications</p><p>Add each of the following apps, getting the API keys from the follow pages:</p><p><a href="http://localhost/sonarr/settings/general?ref=localhost">http://localhost/sonarr/settings/general</a><br><a href="http://localhost/bazarr/settings/general?ref=localhost">http://localhost/bazarr/settings/general</a><br><a href="http://localhost/lidarr/settings/general?ref=localhost">http://localhost/lidarr/settings/general</a><br><a href="http://localhost/radarr/settings/general?ref=localhost">http://localhost/radarr/settings/general</a><br><a href="http://localhost/readarr/settings/general?ref=localhost">http://localhost/readarr/settings/general</a></p><p>An example configuration would be like this (note each has a different port and the baseurl needs to be included):</p><figure class="kg-card kg-image-card"><img src="https://xander-rudolph.github.io/content/images/2023/05/image-2.png" class="kg-image" alt="Running MediaKube-redux" loading="lazy" width="723" height="774" srcset="https://xander-rudolph.github.io/content/images/size/w600/2023/05/image-2.png 600w, https://xander-rudolph.github.io/content/images/2023/05/image-2.png 723w" sizes="(min-width: 720px) 720px"></figure><p>After setting up all the apps, the download client and paths need to be mapped appropriately in each app:</p><figure class="kg-card kg-image-card"><img src="https://xander-rudolph.github.io/content/images/2023/05/image-9.png" class="kg-image" alt="Running MediaKube-redux" loading="lazy" width="725" height="1111" srcset="https://xander-rudolph.github.io/content/images/size/w600/2023/05/image-9.png 600w, https://xander-rudolph.github.io/content/images/2023/05/image-9.png 725w" sizes="(min-width: 720px) 720px"></figure><p>then hit the plus button on the right under Remote Path Mappings and map the apps &quot;media&quot; directory to transmissions &quot;data&quot; directory:</p><figure class="kg-card kg-image-card"><img src="https://xander-rudolph.github.io/content/images/2023/05/image-10.png" class="kg-image" alt="Running MediaKube-redux" loading="lazy" width="721" height="552" srcset="https://xander-rudolph.github.io/content/images/size/w600/2023/05/image-10.png 600w, https://xander-rudolph.github.io/content/images/2023/05/image-10.png 721w" sizes="(min-width: 720px) 720px"></figure><p><br>All of the following need the download and mapping:</p><p><a href="http://localhost/sonarr/settings/downloadclients?ref=localhost">http://localhost/sonarr/settings/downloadclients</a><br><a href="http://localhost/bazarr/settings/downloadclients?ref=localhost">http://localhost/bazarr/settings/downloadclients</a><br><a href="http://localhost/lidarr/settings/downloadclients?ref=localhost">http://localhost/lidarr/settings/downloadclients</a><br><a href="http://localhost/radarr/settings/downloadclients?ref=localhost">http://localhost/radarr/settings/downloadclients</a><br><a href="http://localhost/readarr/settings/downloadclients?ref=localhost">http://localhost/readarr/settings/downloadclients</a></p><p>The local &quot;Root folder&quot; also needs to be defined:</p><p><a href="http://localhost/sonarr/settings/mediamanagement?ref=localhost">http://localhost/sonarr/settings/mediamanagement</a><br><a href="http://localhost/bazarr/settings/mediamanagement?ref=localhost">http://localhost/bazarr/settings/mediamanagement</a><br><a href="http://localhost/lidarr/settings/mediamanagement?ref=localhost">http://localhost/lidarr/settings/mediamanagement</a><br><a href="http://localhost/radarr/settings/mediamanagement?ref=localhost">http://localhost/radarr/settings/mediamanagement</a><br><a href="http://localhost/readarr/settings/mediamanagement?ref=localhost">http://localhost/readarr/settings/mediamanagement</a></p><p>I map the local root folder to different folders for each service (ex /media/TV for sonarr):</p><figure class="kg-card kg-image-card"><img src="https://xander-rudolph.github.io/content/images/2023/05/image-11.png" class="kg-image" alt="Running MediaKube-redux" loading="lazy" width="1100" height="871" srcset="https://xander-rudolph.github.io/content/images/size/w600/2023/05/image-11.png 600w, https://xander-rudolph.github.io/content/images/size/w1000/2023/05/image-11.png 1000w, https://xander-rudolph.github.io/content/images/2023/05/image-11.png 1100w" sizes="(min-width: 720px) 720px"></figure><h2 id="setting-up-the-request-portal">Setting up the request portal</h2><p>Next up is Ombi. Let&apos;s open up ombi and walk through the init for the app:</p><p><a href="http://localhost/ombi?ref=localhost">http://localhost/ombi</a></p><p>Then we will update the connections to the apps:</p><p><a href="http://localhost/ombi/Settings/Sonarr?ref=localhost">http://localhost/ombi/Settings/Sonarr</a><br><a href="http://localhost/ombi/Settings/Radarr?ref=localhost">http://localhost/ombi/Settings/Radarr</a><br><a href="http://localhost/ombi/Settings/Lidarr?ref=localhost">http://localhost/ombi/Settings/Lidarr</a></p><p>EX:</p><figure class="kg-card kg-image-card"><img src="https://xander-rudolph.github.io/content/images/2023/05/image-12.png" class="kg-image" alt="Running MediaKube-redux" loading="lazy" width="2000" height="910" srcset="https://xander-rudolph.github.io/content/images/size/w600/2023/05/image-12.png 600w, https://xander-rudolph.github.io/content/images/size/w1000/2023/05/image-12.png 1000w, https://xander-rudolph.github.io/content/images/size/w1600/2023/05/image-12.png 1600w, https://xander-rudolph.github.io/content/images/2023/05/image-12.png 2226w" sizes="(min-width: 720px) 720px"></figure>]]></content:encoded></item><item><title><![CDATA[Build your own free website]]></title><description><![CDATA[<p>If you want to build your own site like this, all you need is the pipeline and the following docker command:</p><pre><code class="language-shell">docker run --name ghost --rm -p 2368:2368 -e NODE_ENV=development -e database__connection__filename=&apos;/var/lib/ghost/content/data/ghost.db&apos; -v $PWD/content:/var/</code></pre>]]></description><link>https://xander-rudolph.github.io/build-your-own/</link><guid isPermaLink="false">644aecdfc96e22000148dcbc</guid><category><![CDATA[GitHub]]></category><dc:creator><![CDATA[Alex Rudolph]]></dc:creator><pubDate>Thu, 27 Apr 2023 21:45:42 GMT</pubDate><media:content url="https://xander-rudolph.github.io/content/images/2023/04/00001-4087422604-3.png" medium="image"/><content:encoded><![CDATA[<img src="https://xander-rudolph.github.io/content/images/2023/04/00001-4087422604-3.png" alt="Build your own free website"><p>If you want to build your own site like this, all you need is the pipeline and the following docker command:</p><pre><code class="language-shell">docker run --name ghost --rm -p 2368:2368 -e NODE_ENV=development -e database__connection__filename=&apos;/var/lib/ghost/content/data/ghost.db&apos; -v $PWD/content:/var/lib/ghost/content ghost:alpine </code></pre><p>This will start a local instance of ghost to generate the database itself. Once the code is commited to your repo, it will automatically build your GitHub sit based on your username. <a href="https://pages.github.com/?ref=localhost">Github pages</a> reserve {username}.github.io repo names and build sites automatically for you. My public .github repo has an automated build repo and the push to your github.io repo. The following code will invoke the public pipeline using your username:</p><pre><code>name: Build Repo and Ghost

on:
  workflow_dispatch:
    branches:
      - main
  push:
    branches:
      - main

jobs:
  deploy:
    # uses: ./.github/workflows/build-and-deploy.yaml
    uses: xander-rudolph/.github/.github/workflows/build-and-deploy.yaml@master
    with:
      github-user: ${{ github.actor }}
    secrets: inherit</code></pre><p>When code is pushed to main, the docker image will build out the static content and publish the site.</p><p>The pipeline will automatically create your user GitHub repo which should be set to <strong><em>PUBLIC</em></strong> so the github page can be viewed without authentication (GitHub Authentication that is). The repo you are using to drive the publishing of this website should be <strong><em>PRIVATE</em></strong> to ensure that the content (namely the sqlite db) is secure in your repo.</p>]]></content:encoded></item></channel></rss>